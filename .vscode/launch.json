{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Python Debugger: Current File",
            "type": "debugpy",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal",
            "env": {
            },
        },

        {
            "name": "Current File - justMyCode=false",
            "type": "debugpy",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal",
            "justMyCode": false
        },

        {
            "name": "Worker",
            "type": "debugpy",
            "request": "launch",
            "module": "usbipice.worker.app",
            "console": "integratedTerminal",
            "sudo": true,
            "env": {
                "USBIPICE_WORKER_NAME": "debug-worker",
                "USBIPICE_SERVER_PORT": "8081",
                "USBIPICE_VIRTUAL_PORT": "8081",

                "USBIPICE_DATABASE": "${env:USBIPICE_DATABASE}",
                "USBIPICE_CONTROL_SERVER": "http://localhost:8080",
                "USBIPICE_DEFAULT": "src/usbipice/worker/firmware/default/build/default_firmware.uf2",
                "USBIPICE_PULSE_COUNT": "src/usbipice/worker/firmware/pulse_count/build/bitstream_over_usb.uf2"
            },
            // TODO
            // "preLaunchTask": "database-clear"
        },

        {
            "name": "Control",
            "type": "debugpy",
            "request": "launch",
            "module": "usbipice.control.app",
            "console": "integratedTerminal",
            "env": {
                "USBIPICE_DATABASE": "${env:USBIPICE_DATABASE}",
                "USBIPICE_CONTROL_PORT": "8080",
            }
        },
    ]
}